{% extends 'scenic_admin/base.html' %}

{% block content %}
    <div class="card">
        <div class="card-header">
            <h3>{% if ticket_type %}编辑门票类型{% else %}新增门票类型{% endif %}</h3>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="name" class="form-label">门票名称</label>
                    <input type="text" class="form-control" id="name" name="name" value="{{ ticket_type.name|default:'' }}" required>
                </div>
                <div class="mb-3">
                    <label for="type" class="form-label">门票类型</label>
                    <select class="form-select" id="type" name="type" required>
                        <option value="single" {% if ticket_type and ticket_type.type == 'single' %}selected{% endif %}>单票</option>
                        <option value="package" {% if ticket_type and ticket_type.type == 'package' %}selected{% endif %}>套票</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="price" class="form-label">门票价格</label>
                    <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" value="{{ ticket_type.price|default:'' }}" required>
                </div>
                <div class="mb-3">
                    <label for="stock" class="form-label">库存数量</label>
                    <input type="number" class="form-control" id="stock" name="stock" min="0" value="{{ ticket_type.stock|default:'' }}" required>
                </div>
                <div class="mb-3">
                    <label for="is_active" class="form-label">是否激活</label>
                    <select class="form-select" id="is_active" name="is_active">
                        <option value="1" {% if ticket_type and ticket_type.is_active %}selected{% endif %}>是</option>
                        <option value="0" {% if ticket_type and not ticket_type.is_active %}selected{% endif %}>否</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">保存</button>
                <a href="{% url 'ticket:scenic_admin_ticket_types' %}?selected_date={{ request.GET.selected_date }}" class="btn btn-secondary">取消</a>
            </form>
        </div>
    </div>
{% endblock %}